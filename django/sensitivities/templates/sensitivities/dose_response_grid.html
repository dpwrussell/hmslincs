<!doctype html>
  <meta charset="utf-8">
  <title>Dose-response grid</title>
  <link rel="stylesheet" href="//lincs.hms.harvard.edu/wordpress/wp-content/themes/lincs/style.css" type="text/css" />
  <style>
*{
  -webkit-box-sizing: border-box;
     -moz-box-sizing: border-box;
          box-sizing: border-box;
}

html, body, div, ol, ul, li, br, img, hr, svg{
  margin:0;
  padding:0;
  border:0;
  outline:0;
}

#fixed-overlay {
  position:fixed;
  width:100%;
  height:100%;
  z-index:10;
}

#top-band,#bottom-band{
  position:absolute;
  width:100%;
  background-color:#f7ab53;
}
#top-band{
  padding:1ex 3em;
}
#bottom-band{
  padding-top:1ex;
  padding-bottom:1ex;
}
#top-band > *,#bottom-band > *{
  margin-left:auto;
  margin-right:auto;
}

#top-band{
  top:0;
  border-bottom:1px solid black;
}
#bottom-band{
  bottom:0;
  border-top:1px solid black;
}

#top-band p,#scrollable-content p{
  margin:1ex 1em;
}

#loading {
  position:absolute;
  width:100%;
  height:100%;
  top:0;
  z-index:100;
  background-color:#4d4d4d;
  opacity:0.9;
  filter:alpha(opacity=90);
}

#loading > div {
  position:relative;
  width:90%;
  top:40%;
  margin:0 auto;
  padding:2ex 0;
  color:white;
  border-radius:7px;
  background-color:#121212;
  text-align:center;
  font-size: 3em;
}

table#grid{background:#fff;border-collapse:collapse;}
/*table#grid{display:inline-block}*/
table#grid td{border-style:solid;border-color:#eee;}
table#grid svg{display:block;}

#grid path{fill:none;}
#grid path{stroke-width:2;}
/*
 #d3d3d3 (= lightgray)
 #e9e9e9 (= (d3d3d3 + ffffff)/2)
 #ffffff (= white)
 */
#grid path.unhighlit{
  stroke-width:1   !important;
  stroke:#e9e9e9 !important;
}

div#grid{
  display:-webkit-flex;
  display:flex;
  -webkit-flex-wrap: wrap;
  flex-wrap: wrap;
  border:1px solid #dedede;
}
div#grid svg{
  margin:5px;
}
#grid{
  margin:20px auto;
}


#grid,#track,#loading{
  font-family: Consolas, Monaco, "Andale Mono WT", "Andale Mono", "Nimbus Mono L", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Courier New", Courier, monospace;
}
#grid,#track{
  font-size:8pt;
}

/* -------------------------------------------------------------------------- */
/* virtual track pad */

.list-container{
  cursor:default;
}

.list-container li{
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.list-container ul{
  list-style:none;
}
.list-container li{
  -webkit-background-clip: padding-box;
  background-clip: padding-box;
}


#track {
  width: 100%;
}
/* columnation */

/* TBD = to be determined (dynamically, that is) */

/*
#track ul, #track ol{
  width: TBD;
}
#track li{
  width: TBD;
}
*/

#track li{       /**/
  margin:0 5px;
  padding:0 5px;
}                   /**/
#track li{
  line-height:2.5ex;
}
#track{
  background-color:white;
  border:1px solid black;
  /* box-shadow voodoo generated by css3please.com */
     -webkit-border-radius: 2px;
     border-radius: 2px;
     -moz-background-clip: padding;
     -webkit-background-clip: padding-box;
     background-clip: padding-box;
  /* --------------------------------------------- */
}

.list-container li{
  float: left;
}
.list-container br{
  clear: left;
}
.list-container {
  margin-bottom: 1em;
}

/*
.list-container .title, .list-container li{
  color:black;
  background-color:white;
}
*/

#track li{
  color:black;
  background-color:white;
}
#track li:hover,#track .picked{
  color:white;
  /*font-weight:bold;*/
}
#track li:hover:not(.picked){
  opacity:0.75;
  filter:alpha(opacity=75);
}

#track {
  margin-top:1ex;
  margin-bottom:1ex;
  visibility:hidden;
}

#track .title{
  width:100%;
  text-align:center;
  border-bottom:1px solid black;
  margin-top:0.5ex;
  margin-bottom:0.5ex;
}

.button-bar{
  text-align:right;
}
button {
  padding:0.5ex 0.5em;
}

#out-of-sight {
  position:relative;
}
#out-of-sight .list-container{
  left:-1000000px;
  position:absolute;
}

</style>
<body>
        <div id="loading"><div>loading...</div></div>

        <!-- ====================================================================== -->

        <div id="fixed-overlay">

          <div id="top-band">
            <div id="caption">
              <p class="normal">The grid below shows dose-response curves grouped either by cell line or by drug.  (Click on the "Toggle view" button to alternate between these two options).<p>
              <p class="normal">Hovering the cursor over the identifiers in the panel at the bottom of the grid simultaneously highlights all the curves corresponding to that identifier for which data is available.  (Note that when no data is available for a particular cell line-drug combination, no curve will be highlighted in the corresponding plot.)  Clicking on an identifier fixes the highlighted state of the associated curves.  Multiple sets of curves may be highlighted this way.</p>
            </div> <!-- #caption -->
            <div class="button-bar">
              <button id="toggle">Toggle view</button>
            </div>
          </div> <!-- #top-band -->

          <div id="bottom-band" style="display:-webkit-flex;display:flex;justify-content:center;">
            <div id="track" class="list-container">
              <ul><div class="title"></div></ul>
              <br>
              <div class="button-bar">
                <button id="reset" style="margin:5px;" disabled>reset</button>
              </div>
            </div> <!-- #track -->
          </div> <!-- #bottom-band -->

        </div> <!-- #fixed-overlay -->

        <!-- ====================================================================== -->

        <!-- <div id="scrollable-content"><div id="grid"></div></div> -->
        <div id="scrollable-content"><table id="grid"></div></div>

        <div id="out-of-sight">
          <div class="list-container">
            <ul></ul>
            <br/>
          </div>
        </div>

    <script>
(function (hmslincs) {
  hmslincs.STATIC_URL = "{{ STATIC_URL }}";
})(window.hmslincs = window.hmslincs || {});
    </script>

    <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="//d3js.org/d3.v3.min.js"></script>
    <script src="{{ STATIC_URL }}sensitivities/js/dose_response_grid.js"></script>

    </body>
